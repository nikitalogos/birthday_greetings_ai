import{o as r,c as a,a as t,z as N,p as b,e as g,_ as y,l as w,m as A,A as u,d as n,y as d,B as R,n as l,s as h,x as m,t as p,b as v,w as f}from"./entry.05a5f92c.js";import{c as _}from"./chatbot.32ad1012.js";import{_ as V}from"./nuxt-link.d5a183ed.js";import{a as k}from"./params.12f6eb38.js";const D=e=>(b("data-v-e5042349"),e=e(),g(),e),G={class:"info-box"},Y=D(()=>t("i",{class:"info circle icon"},null,-1));function M(e,s,$,I,C,S){return r(),a("div",G,[Y,t("div",null,[N(e.$slots,"default",{},void 0,!0)])])}const P=w({},"$KE3F7RBxls"),z=y(P,[["render",M],["__scopeId","data-v-e5042349"]]),E=""+globalThis.__publicAssetsURL("images/copter.png"),o=e=>(b("data-v-2ed8f568"),e=e(),g(),e),F={class:"page-wrapper"},H=o(()=>t("div",{class:"cover-wrapper"},[t("img",{src:E,alt:"Copter delivers a present"})],-1)),K=o(()=>t("h1",null,"Get API Token",-1)),L=o(()=>t("div",{class:"motivation"},"It's free and will take a moment! You need to login via GitHub :)",-1)),U={class:"param"},W=o(()=>t("label",{for:"url"},"Get token",-1)),Q=o(()=>t("i",{class:"external alternate icon",style:{"margin-left":"10px"}},null,-1)),j={class:"param good-wrap"},q=o(()=>t("label",{for:"token"},"Token",-1)),x={class:"input-wrapper"},J=["type"],O=o(()=>t("i",{class:"white eye icon"},null,-1)),X=[O],Z=o(()=>t("i",{class:"white eye slash icon"},null,-1)),ee=[Z],te=o(()=>t("i",{class:"arrow right icon",style:{"margin-left":"5px"}},null,-1)),oe={key:0,class:"loading"},se=o(()=>t("div",{class:"ui active inline loader"},null,-1)),ne=o(()=>t("div",{style:{color:"var(--accent-color)"}},"Your token is being checked, please wait...",-1)),ie=[se,ne],re=o(()=>t("a",{href:"https://replicate.com/",target:"_blank",rel:"noopener"},"Replicate",-1)),ae=o(()=>t("br",null,null,-1)),le=o(()=>t("br",null,null,-1)),_e=o(()=>t("i",{class:"angle double right icon",style:{"margin-left":"5px"}},null,-1));function de(e,s,$,I,C,S){const B=z,T=V,c=A("tooltip");return r(),a("div",F,[H,K,L,t("form",null,[t("div",U,[W,t("button",{class:"button go-to-replicate",onClick:s[0]||(s[0]=u((...i)=>e.go_to_replicate&&e.go_to_replicate(...i),["prevent"]))},[n("Go to Replicate.com"),Q])]),t("div",j,[q,t("div",x,[d(t("input",{type:e.is_token_visible?"text":"password",id:"token","onUpdate:modelValue":s[1]||(s[1]=i=>("chatbot"in e?e.chatbot:l(_)).token=i),placeholder:"Paste token here"},null,8,J),[[R,("chatbot"in e?e.chatbot:l(_)).token]]),e.is_token_visible?d((r(),a("button",{key:0,class:"show-token","aria-label":"Hide token",onClick:s[2]||(s[2]=i=>e.is_token_visible=!1)},X)),[[c]]):d((r(),a("button",{key:1,class:"show-token","aria-label":"Show token",onClick:s[3]||(s[3]=i=>e.is_token_visible=!0)},ee)),[[c]])]),t("button",{class:h(["button next",{disabled:!("chatbot"in e?e.chatbot:l(_)).token||e.is_in_progress}]),type:"submit",onClick:s[4]||(s[4]=u((...i)=>e.submit_token&&e.submit_token(...i),["prevent"]))},[n("Next"),te],2)])]),e.is_in_progress?(r(),a("div",oe,ie)):m("",!0),e.result_str?(r(),a("div",{key:1,class:h(["result",{error:e.is_error}])},p(e.result_str),3)):m("",!0),v(B,null,{default:f(()=>[n("This app uses "),re,n(" as a backend for Llama 2 model. "),ae,n(p(("prevent_short_word_hangs"in e?e.prevent_short_word_hangs:l(k))("To proceed, you need to obtain API token from it."))+" ",1),le,n(p(("prevent_short_word_hangs"in e?e.prevent_short_word_hangs:l(k))("We don't store your token: it will be deleted if you leave page or refresh it.")),1)]),_:1}),t("div",null,[n("You can"),t("button",{class:"button compact",onClick:s[5]||(s[5]=i=>e.$router.push("/params"))},[n("Skip"),_e]),n("this step and copy prompt for your favourite chatbot on the "),v(T,{to:"/params"},{default:f(()=>[n("next step")]),_:1}),n(".")])])}const pe=w({data(){return{chatbot:_,is_token_visible:!1,is_in_progress:!1,is_error:!1,result_str:""}},methods:{async submit_token(){try{this.is_in_progress=!0,this.is_error=!1,this.result_str="",await this.chatbot.run_impl("Say hello"),this.is_error=!1,this.result_str="Token is valid!",setTimeout(()=>{this.is_in_progress=!1,this.$router.push("/params")},1e3)}catch(e){this.is_in_progress=!1,this.is_error=!0,this.result_str=e.message}},go_to_replicate(){window.open("https://replicate.com/account/api-tokens","_blank","noopener")}}},"$FQyKBWRMAY"),ve=y(pe,[["render",de],["__scopeId","data-v-2ed8f568"]]);export{ve as default};
