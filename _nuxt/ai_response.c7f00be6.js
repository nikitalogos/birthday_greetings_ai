import{m as w,c as r,a as o,d as p,n as a,F as y,q as g,s as _,t as c,o as l,v as f,x as k,y as b,b as C,p as $,e as I,_ as S,l as N}from"./entry.05a5f92c.js";import{f as m,p as d}from"./params.12f6eb38.js";import{c as i}from"./chatbot.32ad1012.js";import{_ as T}from"./ClipboardButton.edb5b5ab.js";const B=""+globalThis.__publicAssetsURL("images/boy.png"),e=t=>($("data-v-91ac42c6"),t=t(),I(),t),j={class:"page-wrapper"},A=e(()=>o("div",{class:"cover-wrapper"},[o("h1",{style:{"white-space":"nowrap"}},"AI Response"),o("div",{style:{flex:"1"}}),o("img",{src:B,alt:"A boy with a present"})],-1)),D=e(()=>o("p",null,"To clear history, refresh the page",-1)),V={style:{"white-space":"nowrap"}},F={class:"messages-wrapper"},G={class:"messages"},H={key:0,class:"loading"},R=e(()=>o("div",{class:"ui active inline loader"},null,-1)),q=e(()=>o("div",null,"Waiting for response...",-1)),E=[R,q],L={key:1},U={class:"prompt phrase"},Y=e(()=>o("b",null,"You:",-1)),z=["onClick"],K=e(()=>o("i",{class:"eye icon"},null,-1)),W=[K],J=["onClick"],M=e(()=>o("i",{class:"eye slash icon"},null,-1)),O=[M],P=e(()=>o("b",null,"AI:",-1)),Q={class:"time"},X=e(()=>o("i",{class:"time icon"},null,-1)),Z=e(()=>o("i",{class:"hourglass end icon",style:{"margin-left":"10px"}},null,-1)),x=e(()=>o("div",{class:"shadow top"},null,-1)),tt=e(()=>o("div",{class:"shadow bottom"},null,-1)),ot=e(()=>o("i",{class:"sync icon"},null,-1)),st=e(()=>o("i",{class:"edit outline icon"},null,-1)),et=e(()=>o("i",{class:"language icon"},null,-1)),nt=e(()=>o("div",{style:{height:"100px"}},null,-1));function at(t,n,lt,rt,pt,ct){const h=T,u=w("tooltip");return l(),r("div",j,[A,D,o("p",null,[p("You can download conversation:"),o("span",V,[o("button",{class:"button",onClick:n[0]||(n[0]=(...s)=>("chatbot"in t?t.chatbot:a(i)).export_txt&&("chatbot"in t?t.chatbot:a(i)).export_txt(...s))},"as .txt"),o("button",{class:"button",onClick:n[1]||(n[1]=(...s)=>("chatbot"in t?t.chatbot:a(i)).export_json&&("chatbot"in t?t.chatbot:a(i)).export_json(...s))},"as .json")])]),o("div",F,[o("div",G,[(l(!0),r(y,null,g(("chatbot"in t?t.chatbot:a(i)).chat_history,s=>(l(),r("div",{class:"message",key:s.time},[s.completed?(l(),r("div",L,[o("div",U,[Y,o("span",null,c(s.is_prompt_visible?s.prompt:"..."),1),s.is_prompt_visible?(l(),f(h,{key:0,name:"prompt",text:s.prompt,compact:""},null,8,["text"])):k("",!0),s.is_prompt_visible?b((l(),r("button",{key:1,onClick:v=>s.is_prompt_visible=!1,"aria-label":"Hide prompt"},W,8,z)),[[u]]):b((l(),r("button",{key:2,onClick:v=>s.is_prompt_visible=!0,"aria-label":"Show prompt"},O,8,J)),[[u]])]),o("div",{class:_(["response phrase",{error:s.is_error}])},[P,o("span",null,c(("chatbot"in t?t.chatbot:a(i)).response_or_error(s)),1),C(h,{name:"response",text:("chatbot"in t?t.chatbot:a(i)).response_or_error(s),compact:""},null,8,["text"])],2),o("div",Q,[X,p(c(("format_datetime"in t?t.format_datetime:a(m))(s.timestamp_ms)),1),Z,p(c((s.duration_ms/1e3).toFixed(2))+"s",1)])])):(l(),r("div",H,E))]))),128))]),x,tt]),o("div",null,[o("button",{class:_(["button",{disabled:!("chatbot"in t?t.chatbot:a(i)).can_run}]),onClick:n[2]||(n[2]=(...s)=>t.regenerate_response&&t.regenerate_response(...s))},[ot,p("Regenerate response")],2),o("button",{class:_(["button",{disabled:!("params"in t?t.params:a(d)).is_valid}]),onClick:n[3]||(n[3]=s=>t.$router.push("/params"))},[st,p("Edit params")],2),o("button",{class:_(["button",{disabled:!("chatbot"in t?t.chatbot:a(i)).google_translate_url}]),onClick:n[4]||(n[4]=s=>t.open_in_new_tab(("chatbot"in t?t.chatbot:a(i)).google_translate_url))},[et,p("Not "+c(("params"in t?t.params:a(d)).target_language.value)+" language? Use Google Translate",1)],2)]),nt])}const it=N({data(){return{params:d,chatbot:i,format_datetime:m}},methods:{scroll_to_bottom(){const t=this.$el.querySelector(".messages");t.scrollTop=t.scrollHeight},async regenerate_response(){setTimeout(this.scroll_to_bottom,1e3),await this.chatbot.run()},open_in_new_tab(t){const n=window.open(t,"_blank","noopener");n&&(n.opener=null)}},mounted(){this.scroll_to_bottom()}},"$SGwwHjGDKI"),bt=S(it,[["render",at],["__scopeId","data-v-91ac42c6"]]);export{bt as default};
